<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Birdsboro Cemetery | Where Tradition Meets Compassion</title>
  <meta name="description" content="Birdsboro Cemetery - A sanctuary for memory and reflection. Serving families in Birdsboro, PA since 1890. Traditional burial, cremation services, pre-planning, and memorial services.">
  <meta name="keywords" content="Birdsboro Cemetery, cemetery Pennsylvania, burial services, cremation services, pre-planning, memorial services, Birdsboro PA cemetery">
  <meta name="author" content="Birdsboro Cemetery">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://birdsborocemetery.com">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://birdsborocemetery.com">
  <meta property="og:title" content="Birdsboro Cemetery | Where Tradition Meets Compassion">
  <meta property="og:description" content="A sanctuary for memory and reflection. Serving families in Birdsboro, PA since 1890.">
  <meta property="og:site_name" content="Birdsboro Cemetery">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://birdsborocemetery.com">
  <meta property="twitter:title" content="Birdsboro Cemetery | Where Tradition Meets Compassion">
  <meta property="twitter:description" content="A sanctuary for memory and reflection. Serving families in Birdsboro, PA since 1890.">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Crect fill='%234A5D3C' width='40' height='40' rx='8'/%3E%3Cpath d='M20 8C14 8 10 12 10 18C10 24 14 28 20 32C20 32 12 26 12 18C12 13 16 10 20 10C28 10 28 18 28 22C28 26 24 28 20 28L30 18C30 12 26 8 20 8Z' fill='%23FDFCF9'/%3E%3C/svg%3E">
  <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Crect fill='%234A5D3C' width='40' height='40' rx='8'/%3E%3Cpath d='M20 8C14 8 10 12 10 18C10 24 14 28 20 32C20 32 12 26 12 18C12 13 16 10 20 10C28 10 28 18 28 22C28 26 24 28 20 28L30 18C30 12 26 8 20 8Z' fill='%23FDFCF9'/%3E%3C/svg%3E">
  
  <!-- Resource Hints for Performance -->
  <link rel="dns-prefetch" href="https://fonts.googleapis.com">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">
  <link rel="dns-prefetch" href="https://formspree.io">
  <link rel="dns-prefetch" href="https://app.squareup.com">
  <link rel="dns-prefetch" href="https://www.google.com">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  
  <!-- Fonts with display=swap for performance -->
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400;1,500&family=Outfit:wght@300;400;500&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
  <noscript><link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400;1,500&family=Outfit:wght@300;400;500&display=swap" rel="stylesheet"></noscript>
  
  <!-- Web App Manifest for PWA -->
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#4A5D3C">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Birdsboro Cemetery">
  
  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Cemetery",
    "name": "Birdsboro Cemetery",
    "description": "A sanctuary for memory and reflection. Serving families in Birdsboro, PA since 1890.",
    "url": "https://birdsborocemetery.com",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "1018 E Main St",
      "addressLocality": "Birdsboro",
      "addressRegion": "PA",
      "postalCode": "19508",
      "addressCountry": "US"
    },
    "telephone": "+1-610-582-8627",
    "email": "info@birdsborocemetery.com",
    "openingHours": "Mo-Fr 09:00-14:00",
    "foundingDate": "1890",
    "priceRange": "$$"
  }
  </script>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{font-family:'Cormorant Garamond',Georgia,serif;color:#2C3527;background:#FDFCF9;overflow-x:hidden}
    @keyframes fadeInUp{from{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}
    @keyframes gentleFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
    .fade-in-up{animation:fadeInUp 1s ease-out forwards}
    .delay-1{animation-delay:.2s;opacity:0;animation-fill-mode:forwards}
    .delay-2{animation-delay:.4s;opacity:0;animation-fill-mode:forwards}
    .delay-3{animation-delay:.6s;opacity:0;animation-fill-mode:forwards}
    .delay-4{animation-delay:.8s;opacity:0;animation-fill-mode:forwards}
    .nav{
      position:fixed;
      top:0;
      left:0;
      right:0;
      z-index:100;
      padding:25px 5%;
      display:flex;
      justify-content:space-between;
      align-items:center;
      transition:all .4s ease;
      background:rgba(253,252,249,.95);
      backdrop-filter:blur(10px);
      -webkit-backdrop-filter:blur(10px);
      box-shadow:0 2px 10px rgba(0,0,0,.05);
    }
    .nav.scrolled{
      padding:15px 5%;
      background:rgba(253,252,249,.98)!important;
      backdrop-filter:blur(10px);
      -webkit-backdrop-filter:blur(10px);
      border-bottom:1px solid #E8EDE2;
      box-shadow:0 2px 10px rgba(0,0,0,.1);
    }
    
    /* Ensure nav has background when scrolled - override any conflicting styles */
    nav.nav.scrolled,
    nav#navbar.scrolled {
      background:rgba(253,252,249,.98)!important;
    }
    .nav-logo{text-decoration:none;display:flex;align-items:center;gap:15px}
    .logo-mark{width:50px;height:50px;background:#4A5D3C;border-radius:8px 8px 8px 20px;display:flex;align-items:center;justify-content:center}
    .logo-text{font-family:'Cormorant Garamond',serif;font-size:22px;font-weight:500;letter-spacing:3px;color:#2C3527;text-transform:uppercase;transition:color .4s ease}
    .nav.scrolled .logo-text{color:#2C3527}
    .logo-subtext{font-family:'Outfit',sans-serif;font-size:10px;font-weight:400;letter-spacing:3px;color:#4A5D3C;text-transform:uppercase;margin-top:-2px;transition:color .4s ease}
    .nav.scrolled .logo-subtext{color:#4A5D3C}
    .nav-links{display:flex;gap:40px;align-items:center}
    .nav-link{position:relative;text-decoration:none;font-family:'Outfit',sans-serif;font-weight:400;font-size:14px;letter-spacing:1.5px;text-transform:uppercase;padding:8px 0;color:#2C3527;transition:color .3s ease}
    .nav.scrolled .nav-link{color:#2C3527}
    .nav-link::after{content:'';position:absolute;bottom:0;left:0;width:0;height:1px;background:currentColor;transition:width .3s ease}
    .nav-link:hover::after{width:100%}
    .btn-primary{background:#4A5D3C;color:#FDFCF9;border:none;padding:18px 40px;font-family:'Outfit',sans-serif;font-size:13px;font-weight:500;letter-spacing:2px;text-transform:uppercase;cursor:pointer;transition:all .4s ease;text-decoration:none;display:inline-block}
    .btn-primary:hover{background:#3A4A30;transform:translateY(-2px);box-shadow:0 8px 30px rgba(74,93,60,.3)}
    .btn-outline{background:transparent;color:#FDFCF9;border:1px solid #FDFCF9;padding:18px 40px;font-family:'Outfit',sans-serif;font-size:13px;font-weight:500;letter-spacing:2px;text-transform:uppercase;cursor:pointer;transition:all .4s ease;text-decoration:none;display:inline-block}
    .btn-outline:hover{background:#FDFCF9;color:#4A5D3C}
    .mobile-toggle{display:none;flex-direction:column;gap:6px;background:none;border:none;cursor:pointer;padding:10px;z-index:1001}
    .mobile-toggle span{width:28px;height:2px;background:#2C3527;transition:all .3s ease}
    .nav.scrolled .mobile-toggle span{background:#2C3527}
    .mobile-menu{position:fixed;top:0;right:0;width:100%;height:100vh;background:#4A5D3C;z-index:1000;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:30px;transform:translateX(100%);transition:transform .5s ease}
    .mobile-menu.open{transform:translateX(0)}
    .mobile-menu a{color:#FDFCF9;font-family:'Cormorant Garamond',serif;font-size:2rem;text-decoration:none;opacity:.8;transition:opacity .3s ease}
    .mobile-menu a:hover{opacity:1}
    .hero{min-height:100vh;background:linear-gradient(135deg,#4A5D3C 0%,#3A4A30 50%,#2C3527 100%);position:relative;display:flex;align-items:center;overflow:hidden}
    .hero-bg-circle-1{position:absolute;top:10%;right:10%;width:400px;height:400px;background:radial-gradient(circle,rgba(168,184,160,.1) 0%,transparent 70%);border-radius:50%;animation:gentleFloat 8s ease-in-out infinite}
    .hero-bg-circle-2{position:absolute;bottom:20%;left:5%;width:300px;height:300px;background:radial-gradient(circle,rgba(168,184,160,.08) 0%,transparent 70%);border-radius:50%;animation:gentleFloat 10s ease-in-out infinite;animation-delay:2s}
    .hero-pattern{position:absolute;inset:0;background-image:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0L30 60M0 30L60 30' stroke='%23A8B8A0' stroke-width='0.3' opacity='0.1'/%3E%3C/svg%3E");opacity:.5}
    .hero-content{max-width:1400px;margin:0 auto;padding:120px 5% 80px;position:relative;z-index:1;display:grid;grid-template-columns:1fr 1fr;gap:80px;align-items:center}
    .hero-subtitle{font-family:'Outfit',sans-serif;font-size:12px;font-weight:500;letter-spacing:4px;color:#A8B8A0;text-transform:uppercase;margin-bottom:25px}
    .hero-title{font-family:'Cormorant Garamond',serif;font-size:clamp(3rem,6vw,5rem);font-weight:400;color:#FDFCF9;line-height:1.1;margin-bottom:30px}
    .hero-title span{font-style:italic;font-weight:300}
    .hero-desc{font-family:'Outfit',sans-serif;font-size:17px;font-weight:300;color:rgba(253,252,249,.8);line-height:1.8;max-width:500px;margin-bottom:50px}
    .hero-buttons{display:flex;gap:20px;flex-wrap:wrap}
    .hero-image{position:relative;height:600px}
    .hero-image-bg{position:absolute;top:10%;right:10%;width:80%;height:80%;background:linear-gradient(180deg,rgba(168,184,160,.3) 0%,rgba(74,93,60,.5) 100%);border-radius:200px 200px 20px 20px}
    .hero-image-fg{position:absolute;top:5%;right:15%;width:70%;height:85%;background:linear-gradient(180deg,#A8B8A0 0%,#4A5D3C 100%);border-radius:180px 180px 20px 20px;display:flex;align-items:center;justify-content:center;overflow:hidden}
    .scroll-indicator{position:absolute;bottom:40px;left:50%;transform:translateX(-50%);display:flex;flex-direction:column;align-items:center;gap:10px;animation:gentleFloat 3s ease-in-out infinite}
    .scroll-text{font-family:'Outfit',sans-serif;font-size:11px;letter-spacing:2px;color:rgba(253,252,249,.5);text-transform:uppercase}
    .scroll-line{width:1px;height:40px;background:linear-gradient(180deg,rgba(253,252,249,.5) 0%,transparent 100%)}
    .section{padding:140px 5%;max-width:1400px;margin:0 auto}
    .section-label{font-family:'Outfit',sans-serif;font-size:12px;font-weight:500;letter-spacing:4px;color:#A8B8A0;text-transform:uppercase;margin-bottom:20px}
    .section-title{font-size:clamp(2.5rem,5vw,4rem);font-weight:400;color:#4A5D3C;margin-bottom:20px;line-height:1.2}
    .section-line{width:80px;height:1px;background:#A8B8A0;margin-bottom:30px}
    .section-desc{font-family:'Outfit',sans-serif;font-size:16px;font-weight:300;color:#5A665A;line-height:1.9;margin-bottom:30px}
    .about-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(450px,1fr));gap:80px;align-items:center}
    .stats{display:flex;gap:50px;flex-wrap:wrap;margin-top:40px}
    .stat-number{font-family:'Cormorant Garamond',serif;font-size:48px;font-weight:400;color:#4A5D3C}
    .stat-label{font-family:'Outfit',sans-serif;font-size:13px;letter-spacing:2px;color:#8A9580;text-transform:uppercase}
    .about-images{display:grid;grid-template-columns:1fr 1fr;gap:20px}
    .about-img{height:280px;background:linear-gradient(135deg,#A8B8A0 0%,#8A9B82 100%)}
    .about-img:nth-child(1){border-radius:20px 20px 20px 80px}
    .about-img:nth-child(2){border-radius:20px 80px 20px 20px;margin-top:40px;background:linear-gradient(135deg,#D4DBC8 0%,#A8B8A0 100%)}
    .about-img:nth-child(3){border-radius:80px 20px 20px 20px;margin-top:-40px;background:linear-gradient(135deg,#E8EDE2 0%,#D4DBC8 100%)}
    .about-img:nth-child(4){border-radius:20px 20px 80px 20px;background:linear-gradient(135deg,#4A5D3C 0%,#3A4A30 100%)}
    .values-section{background:#4A5D3C;padding:100px 5%}
    .values-container{max-width:1400px;margin:0 auto}
    .values-header{text-align:center;margin-bottom:70px}
    .values-title{font-family:'Cormorant Garamond',serif;font-size:clamp(2rem,4vw,3rem);font-weight:400;color:#FDFCF9;margin-bottom:15px}
    .values-line{width:60px;height:1px;background:#A8B8A0;margin:0 auto}
    .values-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:30px}
    .value-card{text-align:center;padding:40px 30px;transition:transform .4s ease}
    .value-card:hover{transform:translateY(-5px)}
    .value-icon{font-size:28px;color:#A8B8A0;margin-bottom:20px}
    .value-title{font-family:'Cormorant Garamond',serif;font-size:22px;font-weight:500;color:#FDFCF9;margin-bottom:12px}
    .value-desc{font-family:'Outfit',sans-serif;font-size:14px;font-weight:300;color:rgba(253,252,249,.7);line-height:1.7}
    .services-header{text-align:center;margin-bottom:80px}
    .services-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:30px}
    .service-card{background:#FDFCF9;padding:50px 40px;border:1px solid #E8EDE2;transition:all .5s ease;position:relative;overflow:hidden}
    .service-card::before{content:'';position:absolute;top:0;left:0;width:3px;height:0;background:#4A5D3C;transition:height .4s ease}
    .service-card:hover{transform:translateY(-5px);box-shadow:0 20px 60px rgba(74,93,60,.1);border-color:transparent}
    .service-card:hover::before{height:100%}
    .service-number{font-family:'Outfit',sans-serif;font-size:11px;font-weight:500;letter-spacing:2px;color:#A8B8A0;text-transform:uppercase}
    .service-title{font-family:'Cormorant Garamond',serif;font-size:28px;font-weight:500;color:#2C3527;margin:15px 0 20px}
    .service-desc{font-family:'Outfit',sans-serif;font-size:15px;font-weight:300;color:#5A665A;line-height:1.8;margin-bottom:25px}
    .service-features{list-style:none}
    .service-feature{font-family:'Outfit',sans-serif;font-size:14px;color:#4A5D3C;padding:8px 0;border-bottom:1px solid #E8EDE2;display:flex;align-items:center;gap:10px}
    .service-feature span{color:#A8B8A0}
    .grounds-section{background:#E8EDE2;padding:140px 5%}
    .grounds-container{max-width:1400px;margin:0 auto}
    .grounds-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:80px;align-items:center}
    .grounds-images{display:grid;grid-template-columns:1fr 1fr 1fr;grid-template-rows:200px 200px;gap:15px}
    .grounds-img-1{background:linear-gradient(135deg,#4A5D3C 0%,#3A4A30 100%);border-radius:100px 20px 20px 20px;grid-row:span 2}
    .grounds-img-2{background:linear-gradient(135deg,#A8B8A0 0%,#8A9B82 100%);border-radius:20px;grid-column:span 2}
    .grounds-img-3{background:linear-gradient(135deg,#D4DBC8 0%,#A8B8A0 100%);border-radius:20px}
    .grounds-img-4{background:linear-gradient(135deg,#8A9B82 0%,#6B7C62 100%);border-radius:20px 20px 100px 20px}
    .faq-section{padding:140px 5%;background:#FDFCF9}
    .faq-container{max-width:900px;margin:0 auto}
    .faq-header{text-align:center;margin-bottom:60px}
    .faq-item{border-bottom:1px solid #E8EDE2;padding:25px 0}
    .faq-question{display:flex;justify-content:space-between;align-items:center;cursor:pointer;font-family:'Cormorant Garamond',serif;font-size:22px;font-weight:500;color:#2C3527;transition:color .3s ease}
    .faq-question:hover{color:#4A5D3C}
    .faq-icon{font-size:24px;color:#A8B8A0;transition:transform .3s ease;font-weight:300}
    .faq-item.active .faq-icon{transform:rotate(45deg)}
    .faq-answer{
      max-height:0;
      overflow:hidden;
      padding:0;
      transition:max-height .4s ease,padding .4s ease;
    }
    .faq-item.active .faq-answer{
      max-height:500px;
      padding-top:20px;
    }
    .faq-answer p{font-family:'Outfit',sans-serif;font-size:15px;color:#5A665A;line-height:1.8}
    .resources-section{padding:140px 5%;background:linear-gradient(135deg,#4A5D3C 0%,#3A4A30 100%)}
    .resources-container{max-width:1200px;margin:0 auto}
    .resources-header{text-align:center;margin-bottom:60px}
    .resources-title{font-family:'Cormorant Garamond',serif;font-size:clamp(2.5rem,5vw,4rem);font-weight:400;color:#FDFCF9;margin-bottom:20px;line-height:1.2}
    .resources-line{width:80px;height:1px;background:#A8B8A0;margin:0 auto 30px}
    .resources-desc{font-family:'Outfit',sans-serif;font-size:17px;font-weight:300;color:rgba(253,252,249,.8);line-height:1.8;max-width:600px;margin:0 auto}
    .resources-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:30px}
    .resource-card{background:#FDFCF9;padding:40px;border-radius:8px;transition:all .4s ease}
    .resource-card:hover{transform:translateY(-5px);box-shadow:0 20px 60px rgba(0,0,0,.2)}
    .resource-icon{width:60px;height:60px;background:#E8EDE2;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:25px;font-size:24px;color:#4A5D3C}
    .resource-title{font-family:'Cormorant Garamond',serif;font-size:24px;font-weight:500;color:#2C3527;margin-bottom:15px}
    .resource-desc{font-family:'Outfit',sans-serif;font-size:14px;color:#5A665A;line-height:1.7;margin-bottom:25px}
    .resource-btn{background:#4A5D3C;color:#FDFCF9;border:none;padding:14px 24px;font-family:'Outfit',sans-serif;font-size:12px;font-weight:500;letter-spacing:1px;text-transform:uppercase;cursor:pointer;transition:all .3s ease;width:100%}
    .resource-btn:hover{background:#3A4A30}
    .guidelines-section{padding:140px 5%;background:#E8EDE2}
    .guidelines-container{max-width:1200px;margin:0 auto}
    .guidelines-header{margin-bottom:60px}
    .guidelines-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:40px}
    .guideline-category{background:#FDFCF9;padding:40px;border-radius:8px}
    .guideline-category-title{font-family:'Cormorant Garamond',serif;font-size:24px;font-weight:500;color:#4A5D3C;margin-bottom:25px;padding-bottom:15px;border-bottom:1px solid #E8EDE2}
    .guideline-item{display:flex;gap:15px;padding:12px 0;border-bottom:1px solid #E8EDE2}
    .guideline-item:last-child{border-bottom:none}
    .guideline-icon{color:#A8B8A0;font-size:16px;margin-top:2px}
    .guideline-text{font-family:'Outfit',sans-serif;font-size:14px;color:#5A665A;line-height:1.6}
    .testimonial-section{padding:120px 5%;background:#FDFCF9;text-align:center}
    .testimonial-container{max-width:800px;margin:0 auto}
    .testimonial-quote{font-family:'Cormorant Garamond',serif;font-size:clamp(1.5rem,3vw,2rem);font-weight:400;font-style:italic;color:#2C3527;line-height:1.8;margin:40px 0}
    .testimonial-author{font-family:'Outfit',sans-serif;font-size:14px;font-weight:500;color:#4A5D3C;letter-spacing:2px;text-transform:uppercase}
    .scheduling-section{padding:140px 5%;background:linear-gradient(135deg,#4A5D3C 0%,#3A4A30 100%);text-align:center}
    .scheduling-container{max-width:800px;margin:0 auto}
    .scheduling-title{font-family:'Cormorant Garamond',serif;font-size:clamp(2.5rem,5vw,4rem);font-weight:400;color:#FDFCF9;margin-bottom:20px;line-height:1.2}
    .scheduling-line{width:80px;height:1px;background:#A8B8A0;margin:0 auto 30px}
    .scheduling-desc{font-family:'Outfit',sans-serif;font-size:17px;font-weight:300;color:rgba(253,252,249,.8);line-height:1.8;margin-bottom:50px}
    .square-booking-widget{background:#FDFCF9;border-radius:8px;padding:40px;margin-top:40px;min-height:300px;display:flex;flex-direction:column;align-items:center;justify-content:center}
    .square-booking-placeholder{text-align:center}
    .square-booking-placeholder h4{font-family:'Cormorant Garamond',serif;font-size:24px;color:#2C3527;margin-bottom:15px}
    .square-booking-placeholder p{font-family:'Outfit',sans-serif;font-size:15px;color:#5A665A;margin-bottom:30px}
    .btn-square{background:#006AFF;color:#FDFCF9;border:none;padding:18px 40px;font-family:'Outfit',sans-serif;font-size:13px;font-weight:500;letter-spacing:2px;text-transform:uppercase;cursor:pointer;transition:all .4s ease;text-decoration:none;display:inline-block;border-radius:4px}
    .btn-square:hover{background:#0052CC;transform:translateY(-2px);box-shadow:0 8px 30px rgba(0,106,255,.3)}
    .contact-section{padding:140px 5%;background:linear-gradient(180deg,#FDFCF9 0%,#E8EDE2 100%)}
    .contact-container{max-width:1400px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:80px}
    .contact-info h4{font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:500;color:#2C3527;margin-bottom:15px}
    .contact-info p{font-family:'Outfit',sans-serif;font-size:15px;color:#5A665A;line-height:1.8}
    .contact-block{margin-bottom:40px}
    .contact-form{background:#FDFCF9;padding:50px;box-shadow:0 20px 60px rgba(74,93,60,.1)}
    .contact-form h3{font-family:'Cormorant Garamond',serif;font-size:28px;font-weight:500;color:#2C3527;margin-bottom:30px}
    .form-group{margin-bottom:20px}
    .form-row{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}
    .input-field{width:100%;padding:18px 20px;border:1px solid #D4DBC8;background:#FDFCF9;font-family:'Outfit',sans-serif;font-size:15px;color:#2C3527;transition:border-color .3s ease,box-shadow .3s ease;outline:none}
    .input-field:focus{border-color:#4A5D3C;box-shadow:0 0 0 3px rgba(74,93,60,.1)}
    .input-field:focus-visible{outline:2px solid #4A5D3C;outline-offset:2px}
    button:focus-visible,a:focus-visible{outline:2px solid #4A5D3C;outline-offset:2px}
    .faq-question:focus-visible{outline:2px solid #4A5D3C;outline-offset:2px;border-radius:4px}
    .input-field::placeholder{color:#8A9580}
    textarea.input-field{resize:vertical;min-height:120px}
    .btn-full{width:100%}
    .map-section{height:400px;background:#E8EDE2}
    .footer{background:#2C3527;padding:80px 5% 40px}
    .footer-container{max-width:1400px;margin:0 auto}
    .footer-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:60px;margin-bottom:60px}
    .footer-logo{display:flex;align-items:center;gap:15px;margin-bottom:25px}
    .footer-logo-mark{width:45px;height:45px;background:#4A5D3C;border-radius:8px 8px 8px 18px;display:flex;align-items:center;justify-content:center}
    .footer-logo-text{font-family:'Cormorant Garamond',serif;font-size:18px;font-weight:500;letter-spacing:2px;color:#FDFCF9;text-transform:uppercase}
    .footer-logo-subtext{font-family:'Outfit',sans-serif;font-size:9px;font-weight:400;letter-spacing:2px;color:rgba(253,252,249,.6);text-transform:uppercase}
    .footer-tagline{font-family:'Outfit',sans-serif;font-size:14px;font-weight:300;color:rgba(253,252,249,.7);line-height:1.8}
    .footer-heading{font-family:'Outfit',sans-serif;font-size:12px;font-weight:500;letter-spacing:2px;color:#A8B8A0;text-transform:uppercase;margin-bottom:25px}
    .footer-links{display:flex;flex-direction:column;gap:12px}
    .footer-link{font-family:'Outfit',sans-serif;font-size:14px;color:rgba(253,252,249,.7);text-decoration:none;transition:color .3s ease}
    .footer-link:hover{color:#FDFCF9}
    .footer-contact{font-family:'Outfit',sans-serif;font-size:14px;color:rgba(253,252,249,.7);line-height:2}
    .footer-bottom{border-top:1px solid rgba(253,252,249,.1);padding-top:30px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px}
    .footer-copyright{font-family:'Outfit',sans-serif;font-size:13px;color:rgba(253,252,249,.5)}
    .footer-legal{display:flex;gap:30px}
    .footer-legal a{font-family:'Outfit',sans-serif;font-size:13px;color:rgba(253,252,249,.5);text-decoration:none}
    .modal-overlay{position:fixed;inset:0;background:rgba(44,53,39,.9);display:none;align-items:center;justify-content:center;z-index:2000;opacity:0;transition:opacity .3s ease}
    .modal-overlay.active{display:flex;opacity:1}
    .modal{background:#FDFCF9;padding:50px;max-width:500px;width:90%;border-radius:8px;position:relative;transform:scale(.9);transition:transform .3s ease}
    .modal-overlay.active .modal{transform:scale(1)}
    .modal-close{position:absolute;top:20px;right:20px;background:none;border:none;font-size:28px;color:#A8B8A0;cursor:pointer;transition:color .3s ease}
    .modal-close:hover{color:#4A5D3C}
    .modal-icon{width:70px;height:70px;background:#E8EDE2;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 25px;font-size:30px;color:#4A5D3C}
    .modal-title{font-family:'Cormorant Garamond',serif;font-size:28px;font-weight:500;color:#2C3527;text-align:center;margin-bottom:15px}
    .modal-desc{font-family:'Outfit',sans-serif;font-size:15px;color:#5A665A;text-align:center;line-height:1.7;margin-bottom:30px}
    .modal-form{display:flex;flex-direction:column;gap:15px}
    .modal-input{padding:16px 20px;border:1px solid #D4DBC8;font-family:'Outfit',sans-serif;font-size:15px;color:#2C3527;outline:none;transition:border-color .3s ease}
    .modal-input:focus{border-color:#4A5D3C}
    .modal-input::placeholder{color:#8A9580}
    .modal-submit{background:#4A5D3C;color:#FDFCF9;border:none;padding:16px;font-family:'Outfit',sans-serif;font-size:13px;font-weight:500;letter-spacing:2px;text-transform:uppercase;cursor:pointer;transition:background .3s ease}
    .modal-submit:hover{background:#3A4A30}
    .modal-privacy{font-family:'Outfit',sans-serif;font-size:12px;color:#8A9580;text-align:center;margin-top:15px}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}
    .skip-link{position:absolute;top:-40px;left:0;background:#4A5D3C;color:#FDFCF9;padding:8px 16px;text-decoration:none;z-index:10000;font-family:'Outfit',sans-serif;font-size:14px}
    .skip-link:focus{top:0}
    .loading{opacity:.6;pointer-events:none;position:relative}
    .loading::after{content:'';position:absolute;top:50%;left:50%;width:20px;height:20px;margin:-10px 0 0 -10px;border:2px solid #4A5D3C;border-top-color:transparent;border-radius:50%;animation:spin .6s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}
    @media (prefers-reduced-motion: reduce){*,*::before,*::after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}
    @media(max-width:1024px){.hero-content{grid-template-columns:1fr;text-align:center}.hero-desc{margin:0 auto 50px}.hero-buttons{justify-content:center}.hero-image{display:none}.about-grid,.grounds-grid,.contact-container{grid-template-columns:1fr}.about-images,.grounds-images{max-width:500px;margin:0 auto}}
    @media(max-width:768px){.nav-links{display:none}.mobile-toggle{display:flex}.about-images{grid-template-columns:1fr 1fr}.about-img:nth-child(2){margin-top:0}.about-img:nth-child(3){margin-top:0}.form-row{grid-template-columns:1fr}.contact-form{padding:30px}.footer-bottom{flex-direction:column;text-align:center}}
    @media(max-width:480px){.about-images{grid-template-columns:1fr}.about-img{height:200px;border-radius:20px!important}.grounds-images{grid-template-columns:1fr 1fr;grid-template-rows:150px 150px}.grounds-img-1{grid-row:span 1;border-radius:20px}.grounds-img-2{grid-column:span 1}.modal{padding:30px}}
  </style>
</head>
<body>
  <!-- Skip to main content link for accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Navigation -->
  <nav class="nav" id="navbar" role="navigation" aria-label="Main navigation">
    <a href="#home" class="nav-logo" aria-label="Birdsboro Cemetery Home">
      <div class="logo-mark" aria-hidden="true">
        <svg width="28" height="28" viewBox="0 0 40 40" fill="none" aria-hidden="true">
          <path d="M20 8C14 8 10 12 10 18C10 24 14 28 20 32C20 32 12 26 12 18C12 13 16 10 20 10C28 10 28 18 28 22C28 26 24 28 20 28L30 18C30 12 26 8 20 8Z" fill="#FDFCF9"/>
        </svg>
      </div>
      <div>
        <div class="logo-text">Birdsboro</div>
        <div class="logo-subtext">Cemetery</div>
      </div>
    </a>
    <div class="nav-links" role="menubar">
      <a href="#about" class="nav-link" role="menuitem">About</a>
      <a href="#services" class="nav-link" role="menuitem">Services</a>
      <a href="#faq" class="nav-link" role="menuitem">FAQ</a>
      <a href="#resources" class="nav-link" role="menuitem">Resources</a>
      <a href="#contact" class="nav-link" role="menuitem">Contact</a>
      <a href="#schedule" class="btn-primary" style="margin-left:20px" role="menuitem">Schedule Visit</a>
    </div>
    <button class="mobile-toggle" id="mobileToggle" aria-label="Toggle mobile menu" aria-expanded="false" aria-controls="mobileMenu" onclick="toggleMenu()">
      <span aria-hidden="true"></span><span aria-hidden="true"></span><span aria-hidden="true"></span>
    </button>
  </nav>
  
  <!-- Mobile Menu -->
  <div class="mobile-menu" id="mobileMenu" role="menu" aria-label="Mobile navigation menu">
    <a href="#about" role="menuitem" onclick="closeMenu()">About</a>
    <a href="#services" role="menuitem" onclick="closeMenu()">Services</a>
    <a href="#faq" role="menuitem" onclick="closeMenu()">FAQ</a>
    <a href="#resources" role="menuitem" onclick="closeMenu()">Resources</a>
    <a href="#contact" role="menuitem" onclick="closeMenu()">Contact</a>
    <a href="#schedule" role="menuitem" onclick="closeMenu()">Schedule</a>
  </div>

  <!-- Hero Section -->
  <main id="main-content">
  <section class="hero" id="home">
    <div class="hero-bg-circle-1"></div>
    <div class="hero-bg-circle-2"></div>
    <div class="hero-pattern"></div>
    <div class="hero-content">
      <div>
        <p class="hero-subtitle fade-in-up delay-1">Est. 1890 • Birdsboro, Pennsylvania</p>
        <h1 class="hero-title fade-in-up delay-2">Where Tradition<br><span>Meets Compassion</span></h1>
        <p class="hero-desc fade-in-up delay-3">A sanctuary for memory and reflection. Rooted in compassion and guided by a commitment to dignity, we provide families with a beautifully maintained environment where peace comes naturally.</p>
        <div class="hero-buttons fade-in-up delay-4">
          <a href="#schedule" class="btn-primary">Schedule a Visit</a>
          <a href="#about" class="btn-outline">Learn More</a>
        </div>
      </div>
      <div class="hero-image fade-in-up delay-3">
        <div class="hero-image-bg"></div>
        <div class="hero-image-fg">
          <svg width="200" height="300" viewBox="0 0 200 300" fill="none" style="opacity:.3">
            <path d="M100 300V150M100 150C80 130 60 100 70 60C80 20 100 0 100 0C100 0 120 20 130 60C140 100 120 130 100 150Z" stroke="#FDFCF9" stroke-width="2"/>
          </svg>
        </div>
      </div>
    </div>
    <div class="scroll-indicator">
      <span class="scroll-text">Scroll</span>
      <div class="scroll-line"></div>
    </div>
  </section>

  <!-- About Section -->
  <section class="section" id="about">
    <div class="about-grid">
      <div>
        <p class="section-label">Who We Are</p>
        <h2 class="section-title">A Sanctuary for<br>Memory & Reflection</h2>
        <div class="section-line"></div>
        <p class="section-desc">Birdsboro Cemetery is more than a resting place—it is a sanctuary for memory and reflection. Rooted in compassion and guided by a commitment to dignity, we provide families with a beautifully maintained environment where peace comes naturally.</p>
        <p class="section-desc">Every pathway, shade tree, and curated landscape is cared for with intention. Our role is to offer comfort in life's most delicate moments.</p>
        <div class="stats">
          <div><div class="stat-number">130+</div><div class="stat-label">Years of Service</div></div>
          <div><div class="stat-number">15</div><div class="stat-label">Acres of Gardens</div></div>
        </div>
      </div>
      <div class="about-images">
        <div class="about-img"></div>
        <div class="about-img"></div>
        <div class="about-img"></div>
        <div class="about-img"></div>
      </div>
    </div>
  </section>

  <!-- Values Section -->
  <section class="values-section">
    <div class="values-container">
      <div class="values-header">
        <h2 class="values-title">Our Core Values</h2>
        <div class="values-line"></div>
      </div>
      <div class="values-grid">
        <div class="value-card"><div class="value-icon">♡</div><h3 class="value-title">Compassion</h3><p class="value-desc">Every interaction rooted in empathy and care</p></div>
        <div class="value-card"><div class="value-icon">☼</div><h3 class="value-title">Comfort</h3><p class="value-desc">A calm, welcoming environment for all visitors</p></div>
        <div class="value-card"><div class="value-icon">⚘</div><h3 class="value-title">Heritage</h3><p class="value-desc">Honoring Birdsboro's history and traditions</p></div>
        <div class="value-card"><div class="value-icon">✦</div><h3 class="value-title">Dignity</h3><p class="value-desc">Respectful, carefully maintained grounds</p></div>
        <div class="value-card"><div class="value-icon">❧</div><h3 class="value-title">Nature</h3><p class="value-desc">A serene landscape that supports remembrance</p></div>
        <div class="value-card"><div class="value-icon">∞</div><h3 class="value-title">Continuity</h3><p class="value-desc">Serving generations with trust and stability</p></div>
      </div>
    </div>
  </section>

  <!-- Services Section -->
  <section class="section" id="services">
    <div class="services-header">
      <p class="section-label">Our Services</p>
      <h2 class="section-title">Compassionate Care<br>For Every Family</h2>
      <div class="section-line" style="margin:0 auto"></div>
    </div>
    <div class="services-grid">
      <div class="service-card">
        <span class="service-number">01</span>
        <h3 class="service-title">Traditional Burial</h3>
        <p class="service-desc">Full burial services with perpetual care, including single, double, and family plots.</p>
        <ul class="service-features">
          <li class="service-feature"><span>→</span> Ground burial plots</li>
          <li class="service-feature"><span>→</span> Family estate lots</li>
          <li class="service-feature"><span>→</span> Perpetual care included</li>
          <li class="service-feature"><span>→</span> Monument assistance</li>
        </ul>
      </div>
      <div class="service-card">
        <span class="service-number">02</span>
        <h3 class="service-title">Cremation Services</h3>
        <p class="service-desc">Thoughtful options for cremated remains, from traditional inurnment to memorial gardens.</p>
        <ul class="service-features">
          <li class="service-feature"><span>→</span> Cremation niches</li>
          <li class="service-feature"><span>→</span> Scattering gardens</li>
          <li class="service-feature"><span>→</span> Memorial benches</li>
          <li class="service-feature"><span>→</span> Tribute garden (Coming Soon)</li>
        </ul>
      </div>
      <div class="service-card">
        <span class="service-number">03</span>
        <h3 class="service-title">Pre-Planning</h3>
        <p class="service-desc">Take the burden off loved ones by planning ahead. Lock in current pricing.</p>
        <ul class="service-features">
          <li class="service-feature"><span>→</span> Flexible payment plans</li>
          <li class="service-feature"><span>→</span> Price protection</li>
          <li class="service-feature"><span>→</span> Personal consultations</li>
          <li class="service-feature"><span>→</span> Family planning options</li>
        </ul>
      </div>
      <div class="service-card">
        <span class="service-number">04</span>
        <h3 class="service-title">Memorial Services</h3>
        <p class="service-desc">Personalized ceremonies held in our peaceful grounds, tailored to honor your loved one.</p>
        <ul class="service-features">
          <li class="service-feature"><span>→</span> Graveside services</li>
          <li class="service-feature"><span>→</span> Memorial ceremonies</li>
          <li class="service-feature"><span>→</span> Anniversary remembrances</li>
          <li class="service-feature"><span>→</span> Private gatherings</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Grounds Section -->
  <section class="grounds-section" id="grounds">
    <div class="grounds-container">
      <div class="grounds-grid">
        <div>
          <p class="section-label" style="color:#4A5D3C">Our Grounds</p>
          <h2 class="section-title">A Place of<br>Natural Beauty</h2>
          <div class="section-line"></div>
          <p class="section-desc">Our 15 acres feature mature shade trees, winding pathways, and meticulously maintained gardens. Every section is designed to provide a peaceful setting for remembrance.</p>
          <a href="#schedule" class="btn-primary">Schedule a Tour</a>
        </div>
        <div class="grounds-images">
          <div class="grounds-img-1"></div>
          <div class="grounds-img-2"></div>
          <div class="grounds-img-3"></div>
          <div class="grounds-img-4"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="faq-section" id="faq">
    <div class="faq-container">
      <div class="faq-header">
        <p class="section-label">Questions & Answers</p>
        <h2 class="section-title">Frequently Asked<br>Questions</h2>
        <div class="section-line" style="margin:0 auto"></div>
      </div>
      
      <div class="faq-item">
        <div class="faq-question" data-faq-toggle role="button" tabindex="0" aria-expanded="false" aria-controls="faq-answer-1">
          <span>What are your visiting hours?</span>
          <span class="faq-icon" aria-hidden="true">+</span>
        </div>
        <div class="faq-answer" id="faq-answer-1" role="region" aria-hidden="true">
          <p>Our grounds are open to visitors from dawn to dusk, every day of the year. Office hours are Monday through Friday from 9:00 AM to 2:00 PM. Weekend appointments are available by phone.</p>
        </div>
      </div>
      
      <div class="faq-item">
        <div class="faq-question" data-faq-toggle role="button" tabindex="0" aria-expanded="false" aria-controls="faq-answer-2">
          <span>Do you offer payment plans?</span>
          <span class="faq-icon" aria-hidden="true">+</span>
        </div>
        <div class="faq-answer" id="faq-answer-2" role="region" aria-hidden="true">
          <p>Yes, we offer flexible, interest-free payment plans for pre-planning purchases. This allows families to secure today's prices while spreading payments over time. No credit check is required. Please contact our office to discuss options.</p>
        </div>
      </div>
      
      <div class="faq-item">
        <div class="faq-question" data-faq-toggle role="button" tabindex="0" aria-expanded="false" aria-controls="faq-answer-3">
          <span>Can I bring flowers and decorations?</span>
          <span class="faq-icon" aria-hidden="true">+</span>
        </div>
        <div class="faq-answer" id="faq-answer-3" role="region" aria-hidden="true">
          <p>Fresh flowers are always welcome and may be placed at any time. Artificial flowers are permitted from November through March. Small, tasteful decorations are allowed but must not interfere with ground maintenance. Glass containers and large items should be avoided.</p>
        </div>
      </div>
      
      <div class="faq-item">
        <div class="faq-question" data-faq-toggle role="button" tabindex="0" aria-expanded="false" aria-controls="faq-answer-4">
          <span>How do I locate a grave?</span>
          <span class="faq-icon" aria-hidden="true">+</span>
        </div>
        <div class="faq-answer" id="faq-answer-4" role="region" aria-hidden="true">
          <p>You can call our office at (610) 582-8627 and we'll provide location information and directions. If you visit during office hours, we're happy to provide a map or escort you to the site.</p>
        </div>
      </div>
      
      <div class="faq-item">
        <div class="faq-question" data-faq-toggle role="button" tabindex="0" aria-expanded="false" aria-controls="faq-answer-5">
          <span>What is included in perpetual care?</span>
          <span class="faq-icon" aria-hidden="true">+</span>
        </div>
        <div class="faq-answer" id="faq-answer-5" role="region" aria-hidden="true">
          <p>Perpetual care, included with every plot purchase, covers ongoing maintenance of the grounds in perpetuity. This includes lawn mowing, fertilization, tree and shrub care, road maintenance, and general upkeep. It does not cover individual grave decorations or monument cleaning.</p>
        </div>
      </div>
      
      <div class="faq-item">
        <div class="faq-question" data-faq-toggle role="button" tabindex="0" aria-expanded="false" aria-controls="faq-answer-6">
          <span>Do you accept veterans?</span>
          <span class="faq-icon" aria-hidden="true">+</span>
        </div>
        <div class="faq-answer" id="faq-answer-6" role="region" aria-hidden="true">
          <p>Absolutely. We're honored to provide a final resting place for those who served our country. Veterans may be eligible for government-provided headstones, markers, and medallions. We can help coordinate with the VA. Please bring the DD-214 discharge papers when making arrangements.</p>
        </div>
      </div>
      
      <div class="faq-item">
        <div class="faq-question" data-faq-toggle role="button" tabindex="0" aria-expanded="false" aria-controls="faq-answer-7">
          <span>Can I pre-plan my own arrangements?</span>
          <span class="faq-icon" aria-hidden="true">+</span>
        </div>
        <div class="faq-answer" id="faq-answer-7" role="region" aria-hidden="true">
          <p>Yes, and we encourage it. Pre-planning allows you to make decisions thoughtfully, lock in current prices, and spare your family from having to make difficult choices during an emotional time. Contact us to schedule a no-pressure consultation.</p>
        </div>
      </div>
      
      <div class="faq-item">
        <div class="faq-question" data-faq-toggle role="button" tabindex="0" aria-expanded="false" aria-controls="faq-answer-8">
          <span>What are my options for cremated remains?</span>
          <span class="faq-icon" aria-hidden="true">+</span>
        </div>
        <div class="faq-answer" id="faq-answer-8" role="region" aria-hidden="true">
          <p>We offer several options: burial in a traditional grave or cremation plot, placement in our columbarium niches, scattering in designated garden areas, or interment beneath a memorial bench. Our upcoming Tribute Cremation Garden will offer additional meaningful options.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Grief Resources Section -->
  <section class="resources-section" id="resources">
    <div class="resources-container">
      <div class="resources-header">
        <h2 class="resources-title">Grief Support Resources</h2>
        <div class="resources-line"></div>
        <p class="resources-desc">We've prepared these guides to support you during difficult times. Each resource is designed with care and compassion to help you navigate grief and honor your loved one.</p>
      </div>
      
      <div class="resources-grid">
        <div class="resource-card">
          <div class="resource-icon">❤</div>
          <h3 class="resource-title">Understanding Grief</h3>
          <p class="resource-desc">A compassionate guide to help you understand the grief journey, common experiences, and how to care for yourself during this difficult time.</p>
          <button class="resource-btn" onclick="openModal('understanding-grief')" aria-label="Download Understanding Grief guide">Download Free Guide</button>
        </div>
        
        <div class="resource-card">
          <div class="resource-icon">✿</div>
          <h3 class="resource-title">Honoring Your Loved One</h3>
          <p class="resource-desc">Creative and meaningful ways to honor and remember your loved one, from memorial traditions to lasting tributes.</p>
          <button class="resource-btn" onclick="openModal('honoring-loved-one')">Download Free Guide</button>
        </div>
        
        <div class="resource-card">
          <div class="resource-icon">☐</div>
          <h3 class="resource-title">First Steps After Loss</h3>
          <p class="resource-desc">A practical checklist to help you navigate the necessary tasks in the days and weeks following a loss.</p>
          <button class="resource-btn" onclick="openModal('first-steps')">Download Free Guide</button>
        </div>
        
        <div class="resource-card">
          <div class="resource-icon">✎</div>
          <h3 class="resource-title">Planning Ahead Guide</h3>
          <p class="resource-desc">Information about pre-planning your arrangements—a thoughtful gift that eases the burden on your family.</p>
          <button class="resource-btn" onclick="openModal('pre-planning')">Download Free Guide</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Cemetery Guidelines Section -->
  <section class="guidelines-section" id="guidelines">
    <div class="guidelines-container">
      <div class="guidelines-header">
        <p class="section-label" style="color:#4A5D3C">Visitor Information</p>
        <h2 class="section-title">Cemetery Rules<br>& Guidelines</h2>
        <div class="section-line"></div>
        <p class="section-desc">These guidelines help us maintain a peaceful, dignified environment for all visitors and ensure the beauty of the grounds for generations to come.</p>
      </div>
      
      <div class="guidelines-grid">
        <div class="guideline-category">
          <h3 class="guideline-category-title">Visiting Hours & Conduct</h3>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Grounds open daily from dawn to dusk</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Visitors are asked to maintain a respectful, quiet demeanor</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Children must be supervised at all times</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Pets must be leashed and waste must be removed</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Vehicles must remain on roadways; speed limit 10 mph</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Bicycles, skateboards, and recreational activities are not permitted</span></div>
        </div>
        
        <div class="guideline-category">
          <h3 class="guideline-category-title">Decorations & Flowers</h3>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Fresh flowers are welcome year-round</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Artificial flowers permitted November 1 – March 31 only</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Glass containers are not permitted</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Decorations must be placed within 12" of the headstone</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Holiday decorations will be removed 2 weeks after the holiday</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Faded or deteriorated items may be removed by staff</span></div>
        </div>
        
        <div class="guideline-category">
          <h3 class="guideline-category-title">Monuments & Markers</h3>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">All monuments require approval before installation</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Monuments must meet size specifications for each section</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Only granite monuments from approved vendors are permitted</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Foundations must be installed by cemetery staff</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Monument cleaning is the responsibility of the family</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Staff can recommend monument providers upon request</span></div>
        </div>
        
        <div class="guideline-category">
          <h3 class="guideline-category-title">Seasonal & Special Notes</h3>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Winter burials may require additional fees for ground preparation</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Some roads may be inaccessible during snow/ice conditions</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Spring cleanup occurs in early April; temporary decorations should be removed</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Planting of flowers or shrubs at gravesites requires approval</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Photography for commercial purposes requires written permission</span></div>
          <div class="guideline-item"><span class="guideline-icon">✓</span><span class="guideline-text">Questions? Call us at (610) 582-8627</span></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonial Section -->
  <section class="testimonial-section">
    <div class="testimonial-container">
      <svg width="50" height="40" viewBox="0 0 50 40" fill="none">
        <path d="M0 40V24C0 10.745 10.745 0 24 0H26V8H24C15.163 8 8 15.163 8 24V40H0ZM26 40V24C26 10.745 36.745 0 50 0V8C41.163 8 34 15.163 34 24V40H26Z" fill="#E8EDE2"/>
      </svg>
      <p class="testimonial-quote">"The compassion and care shown by the Birdsboro Cemetery team during our difficult time was extraordinary. The grounds are beautiful, and knowing our loved one rests in such a peaceful place brings us comfort every day."</p>
      <div class="testimonial-author">— The Morrison Family</div>
    </div>
  </section>

  <!-- Square Scheduling Section -->
  <section class="scheduling-section" id="schedule">
    <div class="scheduling-container">
      <h2 class="scheduling-title">Schedule Your Visit</h2>
      <div class="scheduling-line"></div>
      <p class="scheduling-desc">Book a personal consultation or cemetery tour at a time that works for you. Our compassionate team is here to guide you through every step.</p>
      <div class="square-booking-widget">
        <div class="square-booking-placeholder">
          <h4>Book an Appointment</h4>
          <p>Choose a consultation type and select a time that works for you.</p>
          <a href="https://app.squareup.com/appointments/book/ptgpc8skzitokk/L980XN47Z7JMR/start" class="btn-square" id="squareBookingBtn" target="_blank" rel="noopener noreferrer" onclick="if(typeof Analytics !== 'undefined' && Analytics.trackEvent) Analytics.trackEvent('square_booking_click');">Book Online with Square</a>
          <p style="margin-top:20px;font-size:13px;color:#8A9580">Or call us directly: <a href="tel:+16105828627" style="color:#4A5D3C;text-decoration:none">(610) 582-8627</a></p>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section class="contact-section" id="contact">
    <div class="contact-container">
      <div class="contact-info">
        <p class="section-label">Get In Touch</p>
        <h2 class="section-title">We're Here<br>To Help</h2>
        <div class="section-line"></div>
        <p class="section-desc">Whether you're planning ahead or need immediate assistance, our compassionate team is available to guide you through every step.</p>
        <div class="contact-block">
          <h4>Visit Us</h4>
          <p>1018 E Main St<br>Birdsboro, PA 19508</p>
        </div>
        <div class="contact-block">
          <h4>Office Hours</h4>
          <p>Monday – Friday: 9:00 AM – 2:00 PM<br>Weekends: By Appointment<br><em style="color:#8A9580">Grounds open dawn to dusk daily</em></p>
        </div>
        <div class="contact-block">
          <h4>Contact</h4>
          <p>Phone: <a href="tel:+16105828627" style="color:#5A665A;text-decoration:none">(610) 582-8627</a><br>Email: <a href="/cdn-cgi/l/email-protection#a5cccbc3cae5c7ccd7c1d6c7cad7cac6c0c8c0d1c0d7dc8bc6cac8" style="color:#5A665A;text-decoration:none"><span class="__cf_email__" data-cfemail="7b12151d143b1912091f0819140914181e161e0f1e090255181416">[email&#160;protected]</span></a></p>
        </div>
      </div>
      <div class="contact-form">
        <h3>Send Us a Message</h3>
        <form id="contactForm" onsubmit="handleSubmit(event)">
          <div class="form-group">
            <label for="contactName" class="sr-only">Your Name</label>
            <input type="text" name="name" id="contactName" class="input-field" placeholder="Your Name" required aria-required="true">
          </div>
          <div class="form-row">
            <div class="form-group" style="margin-bottom:0">
              <label for="contactEmail" class="sr-only">Email Address</label>
              <input type="email" name="email" id="contactEmail" class="input-field" placeholder="Email Address" required aria-required="true">
            </div>
            <div class="form-group" style="margin-bottom:0">
              <label for="contactPhone" class="sr-only">Phone Number</label>
              <input type="tel" name="phone" id="contactPhone" class="input-field" placeholder="Phone Number" aria-label="Phone Number (optional)">
            </div>
          </div>
          <div class="form-group">
            <label for="serviceSelect" class="sr-only">Service Type</label>
            <select name="service" class="input-field" id="serviceSelect" aria-label="Select Service Type">
              <option value="">Select Service Type</option>
              <option value="burial">Traditional Burial</option>
              <option value="cremation">Cremation Services</option>
              <option value="preplanning">Pre-Planning</option>
              <option value="memorial">Memorial Services</option>
              <option value="tour">Cemetery Tour</option>
              <option value="other">Other Inquiry</option>
            </select>
          </div>
          <div class="form-group">
            <label for="contactMessage" class="sr-only">Message</label>
            <textarea name="message" id="contactMessage" class="input-field" rows="5" placeholder="How can we help you?" aria-label="Your message"></textarea>
          </div>
          <button type="submit" class="btn-primary btn-full">Send Message</button>
        </form>
      </div>
    </div>
  </section>

  <!-- Map Section -->
  <section class="map-section" aria-label="Location map">
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3052.8!2d-75.7941!3d40.2648!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c673e8b9a5d5e7%3A0x0!2s1018+E+Main+St%2C+Birdsboro%2C+PA+19508!5e0!3m2!1sen!2sus!4v1" width="100%" height="100%" style="border:0" allowfullscreen="" loading="lazy" title="Birdsboro Cemetery Location Map" aria-label="Interactive map showing Birdsboro Cemetery location at 1018 E Main St, Birdsboro, PA 19508"></iframe>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-grid">
        <div>
          <div class="footer-logo">
            <div class="footer-logo-mark">
              <svg width="24" height="24" viewBox="0 0 40 40" fill="none">
                <path d="M20 8C14 8 10 12 10 18C10 24 14 28 20 32C20 32 12 26 12 18C12 13 16 10 20 10C28 10 28 18 28 22C28 26 24 28 20 28L30 18C30 12 26 8 20 8Z" fill="#FDFCF9"/>
              </svg>
            </div>
            <div>
              <div class="footer-logo-text">Birdsboro</div>
              <div class="footer-logo-subtext">Cemetery</div>
            </div>
          </div>
          <p class="footer-tagline">Where Tradition Meets Compassion.<br>Serving families since 1890.</p>
        </div>
        <div>
          <h4 class="footer-heading">Quick Links</h4>
          <div class="footer-links">
            <a href="#about" class="footer-link">About Us</a>
            <a href="#services" class="footer-link">Services</a>
            <a href="#faq" class="footer-link">FAQ</a>
            <a href="#resources" class="footer-link">Resources</a>
            <a href="#contact" class="footer-link">Contact</a>
          </div>
        </div>
        <div>
          <h4 class="footer-heading">Services</h4>
          <div class="footer-links">
            <a href="#services" class="footer-link">Traditional Burial</a>
            <a href="#services" class="footer-link">Cremation Options</a>
            <a href="#services" class="footer-link">Memorial Services</a>
            <a href="#services" class="footer-link">Pre-Planning</a>
            <a href="#schedule" class="footer-link">Schedule a Tour</a>
          </div>
        </div>
        <div>
          <h4 class="footer-heading">Contact</h4>
          <div class="footer-contact">
            1018 E Main St<br>
            Birdsboro, PA 19508<br>
            <a href="tel:+16105828627" style="color:inherit;text-decoration:none">(610) 582-8627</a><br>
            <a href="/cdn-cgi/l/email-protection#8ae3e4ece5cae8e3f8eef9e8e5f8e5e9efe7effeeff8f3a4e9e5e7" style="color:inherit;text-decoration:none"><span class="__cf_email__" data-cfemail="ec85828a83ac8e859e889f8e839e838f89818998899e95c28f8381">[email&#160;protected]</span></a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p class="footer-copyright">© 2025 Birdsboro Cemetery. All rights reserved.</p>
        <div class="footer-legal">
          <a href="#">Privacy Policy</a>
          <a href="#">Terms of Service</a>
        </div>
      </div>
    </div>
  </footer>
  </main>

  <!-- Email Capture Modal -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal">
      <button class="modal-close" onclick="closeModal()" aria-label="Close modal">×</button>
      <div class="modal-icon" id="modalIcon">❤</div>
      <h3 class="modal-title" id="modalTitle">Download Your Free Guide</h3>
      <p class="modal-desc" id="modalDesc">Enter your email to receive this resource.</p>
      <form class="modal-form" id="modalForm" onsubmit="handleDownload(event)">
        <label for="modalName" class="sr-only">Your Name</label>
        <input type="text" name="name" id="modalName" class="modal-input" placeholder="Your Name" required aria-required="true">
        <label for="modalEmail" class="sr-only">Email Address</label>
        <input type="email" name="email" id="modalEmail" class="modal-input" placeholder="Email Address" required aria-required="true">
        <input type="hidden" name="resource" id="resourceType">
        <button type="submit" class="modal-submit" aria-label="Submit download request">Get Free Download</button>
      </form>
      <p class="modal-privacy">We respect your privacy. Unsubscribe anytime.</p>
    </div>
  </div>

  <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
    // ============================================================================
    // CRITICAL FUNCTIONS - Define first for onclick handlers
    // ============================================================================
    // FAQ accordion - must be defined early
    function toggleFaq(element) {
      if (!element) return;
      
      const item = element.parentElement;
      if (!item) return;
      
      const wasActive = item.classList.contains('active');
      const answer = item.querySelector('.faq-answer');
      
      // Close all other FAQs
      document.querySelectorAll('.faq-item').forEach(i => {
        i.classList.remove('active');
        const q = i.querySelector('.faq-question');
        const a = i.querySelector('.faq-answer');
        if (q) q.setAttribute('aria-expanded', 'false');
        if (a) {
          a.setAttribute('aria-hidden', 'true');
          a.style.maxHeight = '0';
          a.style.paddingTop = '0';
        }
      });
      
      // Toggle current FAQ
      if (!wasActive) {
        item.classList.add('active');
        element.setAttribute('aria-expanded', 'true');
        if (answer) {
          answer.setAttribute('aria-hidden', 'false');
          // Force reflow to ensure transition works
          answer.offsetHeight;
          answer.style.maxHeight = '500px';
          answer.style.paddingTop = '20px';
        }
      } else {
        element.setAttribute('aria-expanded', 'false');
        if (answer) {
          answer.setAttribute('aria-hidden', 'true');
          answer.style.maxHeight = '0';
          answer.style.paddingTop = '0';
        }
      }
    }
    
    // Mobile menu functions
    function toggleMenu() {
      const menu = document.getElementById('mobileMenu');
      const toggle = document.getElementById('mobileToggle');
      if (!menu || !toggle) return;
      
      const isOpen = menu.classList.toggle('open');
      toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
      document.body.style.overflow = isOpen ? 'hidden' : '';
    }
    
    function closeMenu() {
      const menu = document.getElementById('mobileMenu');
      const toggle = document.getElementById('mobileToggle');
      if (menu) menu.classList.remove('open');
      if (toggle) toggle.setAttribute('aria-expanded', 'false');
      document.body.style.overflow = '';
    }
    
    // Modal functions
    function closeModal() {
      const modalOverlay = document.getElementById('modalOverlay');
      if (modalOverlay) {
        modalOverlay.classList.remove('active');
      }
      document.body.style.overflow = '';
    }
    
    // Square booking - must be defined early
    function openSquareBooking(e) {
      if (e) e.preventDefault();
      try {
        // CONFIG will be defined later, but we'll check for it
        if (typeof CONFIG !== 'undefined' && CONFIG && CONFIG.squareBookingUrl) {
          window.open(CONFIG.squareBookingUrl, '_blank', 'noopener,noreferrer');
          // Track the event if Analytics is available
          if (typeof Analytics !== 'undefined' && Analytics.trackEvent) {
            Analytics.trackEvent('square_booking_click');
          }
        } else {
          // Fallback - use the URL directly if CONFIG not ready
          const url = 'https://app.squareup.com/appointments/book/ptgpc8skzitokk/L980XN47Z7JMR/start';
          window.open(url, '_blank', 'noopener,noreferrer');
        }
      } catch (error) {
        console.error('Square booking error:', error);
        alert('Unable to open booking. Please call us at (610) 582-8627');
      }
    }
    
    // openModal will be fully defined after RESOURCES is declared
    function openModal(resourceKey) {
      // Stub - will be overridden later
      console.warn('openModal: RESOURCES not yet loaded');
    }
    
    // Make all functions globally accessible immediately
    window.toggleFaq = toggleFaq;
    window.toggleMenu = toggleMenu;
    window.closeMenu = closeMenu;
    window.closeModal = closeModal;
    window.openModal = openModal;
    window.openSquareBooking = openSquareBooking;
    
    // Initialize FAQ event listeners when DOM is ready
    // This avoids CSP issues with inline onclick handlers
    function initializeFAQHandlers() {
      const faqQuestions = document.querySelectorAll('[data-faq-toggle]');
      faqQuestions.forEach(question => {
        // Click handler
        question.addEventListener('click', function() {
          toggleFaq(this);
        });
        
        // Keyboard handler for accessibility
        question.addEventListener('keydown', function(event) {
          if (event.key === 'Enter' || event.key === ' ') {
            event.preventDefault();
            toggleFaq(this);
          }
        });
      });
      
      console.log('[FAQ] Initialized', faqQuestions.length, 'FAQ items');
    }
    
    // Run FAQ initialization
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initializeFAQHandlers);
    } else {
      // DOM already loaded
      initializeFAQHandlers();
    }
    
    // ============================================================================
    // ENTERPRISE-LEVEL CONFIGURATION & FEATURE FLAGS
    // ============================================================================
    const CONFIG = {
      // API Endpoints
      squareBookingUrl: 'https://app.squareup.com/appointments/book/ptgpc8skzitokk/L980XN47Z7JMR/start',
      formEndpoint: 'https://formspree.io/f/mvgjozzb',
      resourceFormEndpoint: 'https://formspree.io/f/mdkroayp',
      
      // Feature Flags
      features: {
        analytics: true,
        errorTracking: true,
        performanceMonitoring: true,
        retryLogic: true,
        offlineSupport: false // Enable when Service Worker is added
      },
      
      // Performance Settings
      performance: {
        scrollThrottle: 16, // ms - 60fps
        debounceDelay: 300, // ms
        requestTimeout: 10000, // ms
        maxRetries: 3,
        retryDelay: 1000 // ms - base delay for exponential backoff
      },
      
      // Environment
      environment: window.location.hostname === 'localhost' ? 'development' : 'production',
      debug: window.location.hostname === 'localhost' || window.location.search.includes('debug=true')
    };
    
    // ============================================================================
    // ENTERPRISE ERROR HANDLING & LOGGING
    // ============================================================================
    const ErrorLogger = {
      log(error, context = {}) {
        const errorData = {
          message: error.message || String(error),
          stack: error.stack,
          context,
          timestamp: new Date().toISOString(),
          userAgent: navigator.userAgent,
          url: window.location.href,
          environment: CONFIG.environment
        };
        
        // Console logging (always in dev, conditional in prod)
        if (CONFIG.debug || CONFIG.environment === 'development') {
          console.error('Error:', errorData);
        }
        
        // In production, send to error tracking service
        if (CONFIG.features.errorTracking && CONFIG.environment === 'production') {
          // Example: Send to Sentry, LogRocket, or custom endpoint
          // fetch('/api/errors', { method: 'POST', body: JSON.stringify(errorData) })
          //   .catch(() => {}); // Fail silently
        }
      },
      
      captureException(error, context) {
        this.log(error, context);
      }
    };
    
    // Global error handler
    window.addEventListener('error', (event) => {
      ErrorLogger.captureException(event.error, {
        type: 'unhandledError',
        filename: event.filename,
        lineno: event.lineno,
        colno: event.colno
      });
    });
    
    // Unhandled promise rejection handler
    window.addEventListener('unhandledrejection', (event) => {
      ErrorLogger.captureException(event.reason, {
        type: 'unhandledRejection',
        promise: true
      });
    });
    
    // ============================================================================
    // PERFORMANCE MONITORING (Web Vitals)
    // ============================================================================
    const PerformanceMonitor = {
      init() {
        if (!CONFIG.features.performanceMonitoring) return;
        
        // Measure Core Web Vitals
        this.measureWebVitals();
        this.measureCustomMetrics();
      },
      
      measureWebVitals() {
        // Largest Contentful Paint (LCP)
        if ('PerformanceObserver' in window) {
          try {
            const lcpObserver = new PerformanceObserver((list) => {
              const entries = list.getEntries();
              const lastEntry = entries[entries.length - 1];
              this.reportMetric('LCP', lastEntry.renderTime || lastEntry.loadTime);
            });
            lcpObserver.observe({ entryTypes: ['largest-contentful-paint'] });
          } catch (e) {
            ErrorLogger.log(e, { metric: 'LCP' });
          }
          
          // First Input Delay (FID)
          try {
            const fidObserver = new PerformanceObserver((list) => {
              const entries = list.getEntries();
              entries.forEach(entry => {
                this.reportMetric('FID', entry.processingStart - entry.startTime);
              });
            });
            fidObserver.observe({ entryTypes: ['first-input'] });
          } catch (e) {
            ErrorLogger.log(e, { metric: 'FID' });
          }
          
          // Cumulative Layout Shift (CLS)
          try {
            let clsValue = 0;
            const clsObserver = new PerformanceObserver((list) => {
              const entries = list.getEntries();
              entries.forEach(entry => {
                if (!entry.hadRecentInput) {
                  clsValue += entry.value;
                }
              });
              this.reportMetric('CLS', clsValue);
            });
            clsObserver.observe({ entryTypes: ['layout-shift'] });
          } catch (e) {
            ErrorLogger.log(e, { metric: 'CLS' });
          }
        }
      },
      
      measureCustomMetrics() {
        // Time to Interactive
        window.addEventListener('load', () => {
          setTimeout(() => {
            const perfData = performance.timing;
            const tti = perfData.domInteractive - perfData.navigationStart;
            this.reportMetric('TTI', tti);
          }, 0);
        });
      },
      
      reportMetric(name, value) {
        if (CONFIG.debug) {
          console.log(`[Performance] ${name}:`, value);
        }
        
        // Send to analytics
        if (CONFIG.features.analytics && typeof gtag !== 'undefined') {
          gtag('event', name, {
            value: Math.round(value),
            metric_name: name
          });
        }
      }
    };
    
    // ============================================================================
    // NETWORK UTILITIES WITH RETRY LOGIC
    // ============================================================================
    const NetworkUtils = {
      async fetchWithRetry(url, options = {}, retries = CONFIG.performance.maxRetries) {
        const controller = new AbortController();
        const timeoutId = setTimeout(() => controller.abort(), CONFIG.performance.requestTimeout);
        
        try {
          const response = await fetch(url, {
            ...options,
            signal: controller.signal
          });
          clearTimeout(timeoutId);
          
          if (!response.ok && retries > 0) {
            throw new Error(`HTTP ${response.status}`);
          }
          
          return response;
        } catch (error) {
          clearTimeout(timeoutId);
          
          if (retries > 0 && CONFIG.features.retryLogic) {
            const delay = CONFIG.performance.retryDelay * 
                          Math.pow(2, CONFIG.performance.maxRetries - retries);
            
            await new Promise(resolve => setTimeout(resolve, delay));
            return this.fetchWithRetry(url, options, retries - 1);
          }
          
          throw error;
        }
      },
      
      isOnline() {
        return navigator.onLine !== false;
      }
    };
    
    // Network status monitoring
    window.addEventListener('online', () => {
      if (CONFIG.debug) console.log('[Network] Online');
    });
    
    window.addEventListener('offline', () => {
      if (CONFIG.debug) console.log('[Network] Offline');
      ErrorLogger.log(new Error('Network offline'), { type: 'network' });
    });
    
    // Resource info for modals
    const RESOURCES = {
      'understanding-grief': {
        icon: '❤',
        title: 'Understanding Grief',
        desc: 'Enter your email to receive this compassionate guide to navigating the grief journey.',
        file: 'grief-resources/Understanding-Grief-Guide.pdf'
      },
      'honoring-loved-one': {
        icon: '✿',
        title: 'Honoring Your Loved One',
        desc: 'Enter your email to receive meaningful ideas for memorials and tributes.',
        file: 'grief-resources/Honoring-Your-Loved-One.pdf'
      },
      'first-steps': {
        icon: '☐',
        title: 'First Steps After Loss',
        desc: 'Enter your email to receive this practical checklist for navigating the days after loss.',
        file: 'grief-resources/First-Steps-After-Loss.pdf'
      },
      'pre-planning': {
        icon: '✎',
        title: 'Planning Ahead Guide',
        desc: 'Enter your email to receive information about pre-planning your arrangements.',
        file: 'grief-resources/Pre-Planning-Guide.pdf'
      }
    };

    // ============================================================================
    // UTILITY FUNCTIONS
    // ============================================================================
    const Utils = {
      // Throttle function for performance
      throttle(func, limit) {
        let inThrottle;
        return function(...args) {
          if (!inThrottle) {
            func.apply(this, args);
            inThrottle = true;
            setTimeout(() => inThrottle = false, limit);
          }
        };
      },
      
      // Debounce function for performance
      debounce(func, wait) {
        let timeout;
        return function(...args) {
          clearTimeout(timeout);
          timeout = setTimeout(() => func.apply(this, args), wait);
        };
      },
      
      // Safe element getter with error handling
      safeGetElementById(id) {
        const element = document.getElementById(id);
        if (!element) {
          ErrorLogger.log(new Error(`Element not found: ${id}`), { elementId: id });
        }
        return element;
      },
      
      // Sanitize user input (basic XSS prevention)
      sanitizeInput(str) {
        const div = document.createElement('div');
        div.textContent = str;
        return div.innerHTML;
      }
    };
    
    // ============================================================================
    // NAVIGATION & SCROLL HANDLERS (Optimized with throttling)
    // ============================================================================
    const NavigationHandler = {
      init() {
        // Throttled scroll handler for better performance
        const handleScroll = Utils.throttle(() => {
          const navbar = Utils.safeGetElementById('navbar');
          if (navbar) {
            // Use same threshold as fallback handler (20px)
            if (window.scrollY > 20 || window.pageYOffset > 20) {
              navbar.classList.add('scrolled');
            } else {
              navbar.classList.remove('scrolled');
            }
          }
        }, CONFIG.performance.scrollThrottle);
        
        window.addEventListener('scroll', handleScroll, { passive: true });
        
        // Run immediately to set initial state
        handleScroll();
        
        // Smooth scroll with offset
        this.initSmoothScroll();
      },
      
      initSmoothScroll() {
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
          anchor.addEventListener('click', function(e) {
            const href = this.getAttribute('href');
            if (href !== '#' && href.length > 1) {
              const target = document.querySelector(href);
              if (target) {
                e.preventDefault();
                const offset = 80;
                const targetPosition = target.getBoundingClientRect().top + 
                                      window.pageYOffset - offset;
                window.scrollTo({
                  top: targetPosition,
                  behavior: 'smooth'
                });
                
                // Track navigation event
                if (CONFIG.features.analytics) {
                  Analytics.trackEvent('navigation', {
                    destination: href,
                    method: 'anchor_click'
                  });
                }
              }
            }
          });
        });
      }
    };

    // Mobile menu and FAQ functions are defined at the top of the script
    // (duplicate definitions removed - see top of script)

    // Modal functions - override the stubs with full implementations
    window.openModal = function(resourceKey) {
      if (!RESOURCES || !RESOURCES[resourceKey]) {
        console.error('Invalid resource key:', resourceKey);
        return;
      }
      
      const resource = RESOURCES[resourceKey];
      const modalIcon = document.getElementById('modalIcon');
      const modalTitle = document.getElementById('modalTitle');
      const modalDesc = document.getElementById('modalDesc');
      const resourceType = document.getElementById('resourceType');
      const modalOverlay = document.getElementById('modalOverlay');
      const modalForm = document.getElementById('modalForm');
      
      if (modalIcon) modalIcon.textContent = resource.icon;
      if (modalTitle) modalTitle.textContent = resource.title;
      if (modalDesc) modalDesc.textContent = resource.desc;
      if (resourceType) resourceType.value = resourceKey;
      if (modalOverlay) {
        modalOverlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
      
      // Reset form
      if (modalForm) {
        modalForm.reset();
        const hiddenInput = modalForm.querySelector('input[name="resource"]');
        if (hiddenInput) {
          hiddenInput.value = resourceKey;
        } else {
          const newHiddenInput = document.createElement('input');
          newHiddenInput.type = 'hidden';
          newHiddenInput.name = 'resource';
          newHiddenInput.id = 'resourceType';
          newHiddenInput.value = resourceKey;
          modalForm.appendChild(newHiddenInput);
        }
      }
    };
    
    window.closeModal = function() {
      const modalOverlay = document.getElementById('modalOverlay');
      if (modalOverlay) {
        modalOverlay.classList.remove('active');
      }
      document.body.style.overflow = '';
    };
    
    // Close modal on overlay click
    document.getElementById('modalOverlay').addEventListener('click', function(e) {
      if (e.target === this) closeModal();
    });
    
    // Close modal on escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') closeModal();
    });

    // Handle resource download
    async function handleDownload(e) {
      e.preventDefault();
      const form = e.target;
      const formData = new FormData(form);
      const resourceKey = formData.get('resource');
      const resource = RESOURCES[resourceKey];
      
      // Submit to Formspree
      try {
        await fetch(CONFIG.resourceFormEndpoint, {
          method: 'POST',
          body: formData,
          headers: { 'Accept': 'application/json' }
        });
      } catch (error) {
        // Continue anyway - download is primary action
      }
      
      // Trigger download
      const link = document.createElement('a');
      link.href = resource.file;
      link.download = resource.file.split('/').pop();
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      
      // Show thank you
      form.innerHTML = `
        <div style="text-align:center;padding:20px 0">
          <div style="font-size:48px;margin-bottom:15px">✓</div>
          <h4 style="font-family:'Cormorant Garamond',serif;font-size:24px;color:#2C3527;margin-bottom:10px">Thank You</h4>
          <p style="font-family:'Outfit',sans-serif;font-size:14px;color:#5A665A">Your download should begin automatically.</p>
        </div>
      `;
      
      setTimeout(closeModal, 2500);
    }

    // Square booking - already defined at top, but enhance it here
    // Override with enhanced version that has full error handling
    const originalOpenSquareBooking = window.openSquareBooking;
    window.openSquareBooking = function(e) {
      if (e) e.preventDefault();
      try {
        if (CONFIG && CONFIG.squareBookingUrl) {
          window.open(CONFIG.squareBookingUrl, '_blank', 'noopener,noreferrer');
          if (typeof Analytics !== 'undefined' && Analytics.trackEvent) {
            Analytics.trackEvent('square_booking_click');
          }
        } else {
          console.error('Square booking URL not configured');
          alert('Booking system is not available. Please call us at (610) 582-8627');
        }
      } catch (error) {
        if (typeof ErrorLogger !== 'undefined') {
          ErrorLogger.captureException(error, { type: 'square_booking' });
        }
        alert('Unable to open booking. Please call us at (610) 582-8627');
      }
    };

    // Contact form
    // Legacy handleSubmit - replaced by enhanced version above
    // This function is kept for backward compatibility but should use the enhanced version

    // Select styling
    const serviceSelect = document.getElementById('serviceSelect');
    if (serviceSelect) {
      serviceSelect.addEventListener('change', function() {
        this.style.color = this.value ? '#2C3527' : '#8A9580';
      });
    }

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        const href = this.getAttribute('href');
        if (href !== '#' && href.length > 1) {
          const target = document.querySelector(href);
          if (target) {
            e.preventDefault();
            const offset = 80;
            const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - offset;
            window.scrollTo({
              top: targetPosition,
              behavior: 'smooth'
            });
          }
        }
      });
    });

    // Legacy function - now uses Utils.safeGetElementById
    function safeGetElementById(id) {
      return Utils.safeGetElementById(id);
    }

    // Enhanced modal function with validation
    function openModal(resourceKey) {
      if (!RESOURCES[resourceKey]) {
        console.error(`Invalid resource key: ${resourceKey}`);
        return;
      }
      
      const resource = RESOURCES[resourceKey];
      const modalIcon = safeGetElementById('modalIcon');
      const modalTitle = safeGetElementById('modalTitle');
      const modalDesc = safeGetElementById('modalDesc');
      const resourceType = safeGetElementById('resourceType');
      const modalOverlay = safeGetElementById('modalOverlay');
      const modalForm = safeGetElementById('modalForm');
      
      if (!modalIcon || !modalTitle || !modalDesc || !resourceType || !modalOverlay || !modalForm) {
        console.error('Required modal elements not found');
        return;
      }
      
      modalIcon.textContent = resource.icon;
      modalTitle.textContent = resource.title;
      modalDesc.textContent = resource.desc;
      resourceType.value = resourceKey;
      modalOverlay.classList.add('active');
      document.body.style.overflow = 'hidden';
      
      // Reset form
      modalForm.reset();
      const hiddenInput = modalForm.querySelector('input[name="resource"]');
      if (!hiddenInput) {
        const newHiddenInput = document.createElement('input');
        newHiddenInput.type = 'hidden';
        newHiddenInput.name = 'resource';
        newHiddenInput.id = 'resourceType';
        newHiddenInput.value = resourceKey;
        modalForm.appendChild(newHiddenInput);
      } else {
        hiddenInput.value = resourceKey;
      }
    }

    // ============================================================================
    // ANALYTICS & EVENT TRACKING
    // ============================================================================
    const Analytics = {
      trackEvent(eventName, eventData = {}) {
        if (!CONFIG.features.analytics) return;
        
        const event = {
          name: eventName,
          data: eventData,
          timestamp: Date.now(),
          url: window.location.href
        };
        
        if (CONFIG.debug) {
          console.log('[Analytics]', event);
        }
        
        // Google Analytics 4
        if (typeof gtag !== 'undefined') {
          gtag('event', eventName, eventData);
        }
        
        // Custom analytics endpoint (if needed)
        // fetch('/api/analytics', { method: 'POST', body: JSON.stringify(event) })
        //   .catch(() => {});
      },
      
      trackPageView() {
        if (typeof gtag !== 'undefined') {
          gtag('config', 'GA_MEASUREMENT_ID', {
            page_path: window.location.pathname
          });
        }
      }
    };
    
    // ============================================================================
    // ENHANCED DOWNLOAD HANDLER (with retry logic)
    // ============================================================================
    async function handleDownload(e) {
      e.preventDefault();
      const form = e.target;
      const formData = new FormData(form);
      const resourceKey = formData.get('resource');
      
      if (!resourceKey || !RESOURCES[resourceKey]) {
        ErrorLogger.captureException(new Error('Invalid resource key'), { resourceKey });
        alert('An error occurred. Please try again.');
        return;
      }
      
      const resource = RESOURCES[resourceKey];
      const submitBtn = form.querySelector('button[type="submit"]');
      const originalText = submitBtn ? submitBtn.textContent : 'Get Free Download';
      
      if (submitBtn) {
        submitBtn.textContent = 'Processing...';
        submitBtn.disabled = true;
        submitBtn.classList.add('loading');
      }
      
      // Track download attempt
      Analytics.trackEvent('resource_download_attempt', {
        resource: resourceKey,
        resource_name: resource.title
      });
      
      // Submit to Formspree with retry logic
      try {
        if (!NetworkUtils.isOnline()) {
          throw new Error('Network offline');
        }
        
        await NetworkUtils.fetchWithRetry(CONFIG.resourceFormEndpoint, {
          method: 'POST',
          body: formData,
          headers: { 'Accept': 'application/json' }
        });
        
        Analytics.trackEvent('resource_form_submitted', { resource: resourceKey });
      } catch (error) {
        ErrorLogger.captureException(error, {
          type: 'resource_download',
          resource: resourceKey
        });
        // Continue anyway - download is primary action
      }
      
      // Trigger download
      try {
        const link = document.createElement('a');
        link.href = resource.file;
        link.download = resource.file.split('/').pop();
        link.style.display = 'none';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        
        // Show thank you message
        form.innerHTML = `
          <div style="text-align:center;padding:20px 0">
            <div style="font-size:48px;margin-bottom:15px">✓</div>
            <h4 style="font-family:'Cormorant Garamond',serif;font-size:24px;color:#2C3527;margin-bottom:10px">Thank You</h4>
            <p style="font-family:'Outfit',sans-serif;font-size:14px;color:#5A665A">Your download should begin automatically.</p>
          </div>
        `;
        
        setTimeout(() => {
          closeModal();
        }, 2500);
      } catch (error) {
        console.error('Download error:', error);
        alert('There was an error downloading the file. Please contact us for assistance.');
        if (submitBtn) {
          submitBtn.textContent = originalText;
          submitBtn.disabled = false;
        }
      }
    }

    // ============================================================================
    // APPLICATION INITIALIZATION
    // ============================================================================
    function initializeApp() {
      try {
        // Initialize performance monitoring
        PerformanceMonitor.init();
        
        // Initialize navigation handlers
        NavigationHandler.init();
        
        // Initialize analytics
        Analytics.trackPageView();
        
        // Modal event listeners
        const modalOverlay = Utils.safeGetElementById('modalOverlay');
        if (modalOverlay) {
          modalOverlay.addEventListener('click', function(e) {
            if (e.target === this) {
              closeModal();
            }
          });
        }
        
        // Close modal on escape key (with focus trap)
        document.addEventListener('keydown', function(e) {
          if (e.key === 'Escape') {
            const modal = Utils.safeGetElementById('modalOverlay');
            if (modal && modal.classList.contains('active')) {
              closeModal();
            }
            const menu = Utils.safeGetElementById('mobileMenu');
            if (menu && menu.classList.contains('open')) {
              closeMenu();
            }
          }
        });
        
        // Track page load time
        window.addEventListener('load', () => {
          const loadTime = performance.timing.loadEventEnd - performance.timing.navigationStart;
          PerformanceMonitor.reportMetric('PageLoad', loadTime);
        });
        
        if (CONFIG.debug) {
          console.log('[App] Initialized successfully', {
            environment: CONFIG.environment,
            features: CONFIG.features
          });
        }
      } catch (error) {
        ErrorLogger.captureException(error, { type: 'app_initialization' });
      }
    }
    
    // Functions are already assigned to window at the top of the script
    // Override openSquareBooking with enhanced version if needed
    if (typeof CONFIG !== 'undefined' && CONFIG) {
      const originalOpenSquareBooking = window.openSquareBooking;
      window.openSquareBooking = function(e) {
        if (e) e.preventDefault();
        try {
          if (CONFIG && CONFIG.squareBookingUrl) {
            window.open(CONFIG.squareBookingUrl, '_blank', 'noopener,noreferrer');
            if (typeof Analytics !== 'undefined' && Analytics.trackEvent) {
              Analytics.trackEvent('square_booking_click');
            }
          } else {
            console.error('Square booking URL not configured');
            alert('Booking system is not available. Please call us at (610) 582-8627');
          }
        } catch (error) {
          if (typeof ErrorLogger !== 'undefined') {
            ErrorLogger.captureException(error, { type: 'square_booking' });
          }
          alert('Unable to open booking. Please call us at (610) 582-8627');
        }
      };
    }
    
    // Fallback scroll handler (in case NavigationHandler.init fails)
    // This runs immediately and on scroll to ensure nav background appears
    function updateNavbarScroll() {
      const navbar = document.getElementById('navbar');
      if (!navbar) {
        console.warn('Navbar element not found');
        return;
      }
      
      const scrollY = window.scrollY || window.pageYOffset || document.documentElement.scrollTop;
      const shouldBeScrolled = scrollY > 20;
      
      // Use a lower threshold (20px instead of 50px) for better visibility
      if (shouldBeScrolled) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
      
      // Debug logging (only in development)
      if (typeof CONFIG !== 'undefined' && CONFIG && CONFIG.debug) {
        console.log('Navbar scroll update:', { scrollY, hasScrolledClass: navbar.classList.contains('scrolled') });
      }
    }
    
    // Run immediately - don't wait for anything
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', function() {
        updateNavbarScroll();
        // Run again after a short delay to ensure it catches any initial scroll
        setTimeout(updateNavbarScroll, 100);
      });
    } else {
      updateNavbarScroll();
      setTimeout(updateNavbarScroll, 100);
    }
    
    // Add scroll listener with throttling for performance
    let scrollTimeout;
    window.addEventListener('scroll', function() {
      if (scrollTimeout) {
        window.cancelAnimationFrame(scrollTimeout);
      }
      scrollTimeout = window.requestAnimationFra